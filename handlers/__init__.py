from aiogram import Router
from aiogram.filters import Command
from aiogram.types import Message
from config import MESSAGES

# –°–æ–∑–¥–∞—ë–º —Ä–æ—É—Ç–µ—Ä –¥–ª—è —ç—Ç–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
router = Router()


@router.message(Command('start'))
async def cmd_start(message: Message):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥.

    Args:
        message: –û–±—ä–µ–∫—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    """
    user_name = message.from_user.first_name or "–¥—Ä—É–≥"

    welcome_text = MESSAGES['start']

    await message.answer(
        text=welcome_text,
        parse_mode='HTML'
    )

    # –õ–æ–≥–∏—Ä—É–µ–º –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    print(f"üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {message.from_user.id} ({message.from_user.username}) –∑–∞–ø—É—Å—Ç–∏–ª –±–æ—Ç–∞")


@router.message(Command('help'))
async def cmd_help(message: Message):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø—Ä–∞–≤–∫—É.
    """
    help_text = """
ü§ñ <b>–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É</b>

<b>–®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</b>
–ò—Å–ø–æ–ª—å–∑—É–π /register —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é –ø–æ—á—Ç—É.
–¢–µ–±–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è:
‚Ä¢ Email –∞–¥—Ä–µ—Å
‚Ä¢ –ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ù–ï –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å!)

<b>–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</b>

üìß <b>Gmail:</b>
1. –ü–µ—Ä–µ–π–¥–∏: https://myaccount.google.com/apppasswords
2. –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä "TG Bot")
3. –°–∫–æ–ø–∏—Ä—É–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å (16 —Å–∏–º–≤–æ–ª–æ–≤)

üìß <b>Yandex:</b>
1. –ü–µ—Ä–µ–π–¥–∏: https://id.yandex.ru/security/app-passwords
2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. –°–∫–æ–ø–∏—Ä—É–π –ø–∞—Ä–æ–ª—å

üìß <b>Mail.ru:</b>
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü–∞—Ä–æ–ª—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
2. –ü–∞—Ä–æ–ª–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
3. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å

<b>–®–∞–≥ 2: –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ—Å—Ç—É–ø</b>
/request_access @username - –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–¥–∞–º –∫–æ–ª–ª–µ–≥–∏

<b>–®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥</b>
/get_code @username - –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π 2FA –∫–æ–¥

<b>–î—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã:</b>
/my_permissions - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
/revoke @username - –æ—Ç–æ–∑–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø

‚ùì <b>–í–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</b>
‚Ä¢ –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
‚Ä¢ –¢–æ–ª—å–∫–æ —Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—à—å, –∫—Ç–æ –≤–∏–¥–∏—Ç —Ç–≤–æ–∏ –∫–æ–¥—ã
‚Ä¢ –ú–æ–∂–µ—à—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –æ—Ç–æ–∑–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø

‚ö†Ô∏è <b>–í–∞–∂–Ω–æ:</b>
–ò—Å–ø–æ–ª—å–∑—É–π –ü–ê–†–û–õ–¨ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø, –∞ –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å –æ—Ç –ø–æ—á—Ç—ã!
    """

    await message.answer(
        text=help_text,
        parse_mode='HTML'
    )